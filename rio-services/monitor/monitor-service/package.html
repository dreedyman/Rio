<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
        http-equiv="content-type">
  <title>Provision Monitor Configuration</title>
</head>
<body>
Provides the capability to deploy and
monitor applications.<br>
<h2><big> <small><a name="Configuring_ProvisionMonitor"></a>Configuring

  ProvisionMonitor </small>
</big></h2>
The ProvisionMonitor package supports the following
configuration
entries; where
each configuration entry name is associated with the component name
<span style="font-family: monospace;">org.rioproject.monitor</span><code></code><br>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">initialLookupGroups</span><br
          style="font-weight: bold; font-family: courier
          new,courier,monospace;">
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">String[]<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">All groups<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">This entry will be read
          at initialization by a ProvisionMonitor to determine the
          initial set of multicast discovery groups the
          ProvisionMonitor should participate in. Any future
          changes to the set of discovery groups should be made
          via ProvisionMonitor 's admin proxy using the <code>JoinAdmin</code>
          interface. </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">initialLookupLocators</span><br
          style="font-weight: bold; font-family: courier
          new,courier,monospace;">
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">LookupLocator[]<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">null<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">This entry will be read
          at initialization by a ProvisionMonitor to determine the
          initial set of specific lookup services the
          ProvisionMonitor should register with. Any future
          changes to the set of discovery groups should be made
          via ProvisionMonitor 's admin proxy using the <code>JoinAdmin</code>
          interface. </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">initialOpStrings</span>
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">String[]<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">none<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">An array of
          OperationalString files. The OperationalString file(s)
          will be loaded and managed at startup. Example :<br>
                <span style="font-family: monospace;">&nbsp;String[]
                  getInitialOpStrings() {</span><br style="font-family:
                  monospace;">
                <span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;
                  def opstrings
                  = ["../config/system.groovy"]</span><br
                  style="font-family: monospace;">
                <span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;
                  return
                  opstrings as String[]</span><br style="font-family:
                  monospace;">
          <span style="font-family: monospace;">}</span><br>
        </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">initialOpStringLoadDelay</span>
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">long<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">5 seconds<span
                style="font-weight: bold;"><br>
                </span></td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">The amount of time (in
          milliseconds) to wait to load OperationalString files
          declared in the initialOpStrings property.<br>
        </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">deployHandlers</span>
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">{@link
          org.rioproject.monitor.service.handlers.DeployHandler}<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">new DeployHandler[]{new
          FileSystemOARDeployHandler(new
          File("${rio.home}/deploy"))<span style="font-weight:
                  bold;"> </span></td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">This property is read at
          startup and defines the DeployHandler instances that
          will be used by the Provision Monitor. DeployHandler
          instances are polled at fixed intervals to return
          OperationalStrings to deploy. The
          default&nbsp;DeployHandler is the
          FileSystemOARDeployHandler. This DeployHandler is used
          to enable hot deployment of OARs. The
          FileSystemOARDeployHandler looks for files with a "oar"
          extension, installs and unarchives the OAR, and returns
          configured OperationalStrings for OARs.<br>
        </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">deployMonitorPeriod</span>
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;"><span style="font-weight:
                  bold;">long</span></td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">30 seconds<span
                style="font-weight: bold;"><br>
                </span></td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">This property is read at
          startup and defines the amount of time (in milliseconds)
          the DeployMonitor will poll {@link
          org.rioproject.monitor.handlers.DeployHandler} instances for
          OperationalString deployments. Setting this value to -1
          disables hot deployment of OARs. </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">installDir</span>
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">String<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">${rio.home}/deploy<span
                style="font-weight: bold;"><br>
                </span></td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">This property is read at
          startup and defines the directory path that is used to
          install and service deployed OARs and application<br>
          resources. OARs are installed to a subdirectory (as per
          the rules of OAR-Name) and extracted. If this directory
          does not exist it will be created.<br>
        </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">loginContext</span><br
          style="font-weight: bold; font-family: courier
          new,courier,monospace;">
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">LoginContext<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;"> Do not perform JAAS
          login</td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;"> Specifies the JAAS login
          context to use for performing a JAAS login and supplying
          the <code>Subject</code> to use when running the
          service. If this entry is not specified, no JAAS login
          is performed. This entry is obtained at service start
          and restart. </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">logDirectory</span><br
          style="font-weight: bold; font-family: courier
          new,courier,monospace;">
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">String<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">none<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">If the a log directory is
          being used, the value of this entry is the name of the
          directory that will be used to persist the
          ProvisionMonitor's state.&nbsp;<br>
        </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">opStringName</span><br
          style="font-weight: bold; font-family: courier
          new,courier,monospace;">
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">String<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">"System-Core"<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">The name of the
          OperationalString the ProvisionMonitor is a part of<br>
        </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">opStringManagerExporter</span>
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">Exporter</td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">A new <code
                style="font-family: monospace;">BasicJeriExporter</code><span
                style="font-family: monospace;"> </span>with
          <ul>
            <li>a <code>TcpServerEndpoint</code> created on a
              random port, </li>
            <li>a <code>BasicILFactory</code>,</li>
            <li>distributed garbage collection turned off,</li>
            <li>keep alive on.</li>
          </ul>
          <br>
          <code></code></td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">The exporter used to
          export the OpStringManager. The OpStringManager is a
          remote object which manages OperationalString instances.
          A new exporter is obtained every time an OpStringManager
          needs to export itself. </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">serviceComment</span><br
          style="font-weight: bold; font-family: courier
          new,courier,monospace;">
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">String<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">null</td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">The comment the
          ProvisionMonitor will use to construct a Comment Entry<br>
        </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">serverExporter</span><br
          style="font-family: courier new,courier,monospace;">
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">Exporter</td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">A new <code>BasicJeriExporter</code>
          with
          <ul>
            <li>a <code>TcpServerEndpoint</code> created on a
              random port, </li>
            <li>a <code>BasicILFactory</code>,</li>
            <li>distributed garbage collection turned off,</li>
            <li>keep alive on.</li>
          </ul>
          <code></code> </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">The exporter used to
          export the server. A new exporter is obtained every time
          a ProvisionMonitorImpl needs to export itself. </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">serviceName</span><br
          style="font-weight: bold; font-family: courier
          new,courier,monospace;">
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">String<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">ProvisionMonitor<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">The name the
          ProvisionMonitor should use as a Name Entry, and for
          display purposes<br>
        </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">serviceResourceSelector<br>
        </span>
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">ServiceResourceSelector</td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">RoundRobinSelector<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">The
          ServiceResourceSelector provides a mechanism to select
          Cybernodes in a particular fashion<br>
        </td>
      </tr>
      </tbody>
    </table>
        <span style="font-weight: bold;"><br>
        </span></li>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">instantiatorPreparer</span><br
          style="font-weight: bold; font-family: courier
          new,courier,monospace;">
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">ProxyPreparer<br>
        </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">An instance of <code>BasicProxyPreparer</code>
          that does nothing </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;">ProxyPreparer for
          ServiceInstantiator proxies. The preparer should expect
          the net.jini.core.event.RemoteEventListener.notify
          method on the returned proxy. </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
    <span style="font-weight: bold; font-family: courier
      new,courier,monospace;"></span>
<ul>
  <li><span style="font-weight: bold; font-family: courier
          new,courier,monospace;">provisioner</span><font
          style="font-weight: bold;" size="+1"><code>LeasePeriodPolicy</code></font>
    <table style="text-align: left; width: 100%;" border="0"
           cellpadding="2" cellspacing="2">
      <tbody>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Type:<br>
        </td>
        <td style="vertical-align: top;">
          com.sun.jini.landlord.LeasePeriodPolicy </td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Default:<br>
        </td>
        <td style="vertical-align: top;">5 minutes<br>
          A new <code></code>com.sun.jini.landlord.FixedLeasePeriodPolicy

          that allows leases up to 10 minutes with a default lease
          grant of 5 minutes<br>
          <span style="font-weight: bold;"> </span></td>
      </tr>
      <tr>
        <td style="vertical-align: top; text-align: right;
                font-weight: bold;"> Description:<br>
        </td>
        <td style="vertical-align: top;"> Policy used to determine
          the length of initial grants and renewals of the leases
          for ServiceInstantiator instances </td>
      </tr>
      </tbody>
    </table>
  </li>
</ul>
</body>
</html>
